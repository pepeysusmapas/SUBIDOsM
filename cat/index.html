<html>
<head>
	<link rel="stylesheet" href="deriviste.css" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/mapillary-js@2.15.0/dist/mapillary.min.css" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
	<script src="umbrella.min.js"></script>
	<script src="autocomplete.min.js"></script>
	<script src="deriviste.js"></script>
	<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/mapillary-js@2.15.0/dist/mapillary.min.js"></script>
	<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
	<script src="https://unpkg.com/leaflet.vectorgrid@latest/dist/Leaflet.VectorGrid.bundled.js"></script>
	<script src="leaflet.rotatedMarker.js"></script>
	<script src="leaflet.bingLayer.min.js"></script>
	<title>Deriviste_traffic_signs_ES</title>
</head>
<body onload="initialise()">
	<div id="introduction">
		<div class="inner">
			<p><b>Deriviste_traffic_signs_ES</b> está basado en Deriviste y permite añadir nodos concretos a OpenStreetMap basado en lo que se ve en Mapillary.Haz lo siguiente</p>
			<p>1-Escoge una zona con cobertura Mapillary. 2-En la imagen de calle haz doble clic en la zona dónde quieres instalar el nodo. 3-Usa el campo de búsqueda para encontrar el tipo de nodo que deseas. 4-Completa las etiquetas (borra lo que sobre, corrige) usando la tabla de etiquetas de la derecha. 5-Hazlo tantas veces como te interese. 6-Escribe tu nombre de usuario/a de OSM y contraseña, y dale a 'Subir'.</p>
			<p>El nodo actual se muestra en rojo, los otros en azul. Puedes arrastrarlos hasta afinar su posición. (También puedes instalar nodos en el mapa haciendo doble clic). No te olvides de repasar la zona con iD, Potlatch 2, JOSM o Vespucci para borrar duplicados y acabar de situar los nodos. La API de Mapillary a veces falla en encontrar las coordenadas corectas - lo sentimos mucho...
			<a href='https://github.com/systemed/deriviste' target='_blank'>Fuente original</a> <a href='https://github.com/yopaseopor/deriviste' target='_blank'>Fuente modificada</a> </p>
		</div>
	</div>
	<div id="map"></div>
	<div id="mapillary"></div>
	<div id="controls">
		<div class='inner'>
			<div class="aa-input-container" id="aa-input-container">
			    <input type="search" id="aa-search-input" class="aa-input-search" placeholder="Buscar etiquetas..." name="search" autocomplete="yes" />
			    <svg class="aa-input-icon" viewBox="654 -372 1664 1664">
			        <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z" />
			    </svg>
			</div>
			<button type='button' id='delete' onclick='deleteCurrentMarker()'>Borrar nodo</button>
		</div>
		<div id="uploading" class="inner">
			<div>
				<input id='username' name='username' placeholder='Nombre usuario/a'>
				<input id='password' name='password' type='password' placeholder='Contraseña OSM'>
			</div>
			<button type='button' id='upload' onclick='startUpload()'>Subir <span id='changes'>0</span> nodos</button>
		</div>
	</div>
	<div id="tag_editor">
		<center>
			<h2>Editar etiquetas</h2>
			<table id='tags'>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
				<tr><td class='key'><input></td><td class='value'><input></td></tr>
			</table>
		</center>
	</div>
	<div id='flash'></div>
</body>
</html>
